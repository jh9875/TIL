데코레이터 패턴 (Decorator Pattern)
===

### 데코레이터 패턴이란?

**데코레이터 패턴**에서는 객체에 추가적인 요건을 동적으로 첨가한다. 데코레이터는 서브클래스를 만드는 것을 통해서 기능을 유연하게 확장할 수 있는 방법을 제공한다.

- 데코레이터의 수퍼클래스는 자신이 장식하고 있는 객체의 수퍼 클래스.
- 한 객체를 여러 개의ㅡ 데코레이터로 감쌀 수 있다.
- 데코레이터는 자신이 감싸고 있는 객체와 같은 수퍼클래스를 가지고 있기 때문에 원래 객체(싸여져 있는 객체)가 들어갈 자리에 데코레이터 객체를 집어넣어도 상관 없음.
- 데코레이터는 자신이 장식하고 있는 객체에게 어떤 행동을 위임하는 것 외에 원하는 추가적ㄱ인 작업을 수행할 수 있음. (키 포인트)
- 

<br>

### 디자인 원칙

**OCP(Open-Closed Principle)** : 클래스는 확장에 대해서는 열려 있어야 하지만 코드 변경에 대해서는 닫혀 있어야 한다.

※ 기존 코드를 건드리지 않은 채로 확장을 통해서 새로운 행동을 간단하게 추가할 수 있도록 하는 게 목표.

<br>

### 예제 코드

~~~java
// 커피에 여러 가지 토핑을 추가하는 상황 (확장)
public abstract class Beverage {
    String description = "제목 없음";

    public String getDescription() {
        return description;
    }
    //서브 클래스에서 구현
    public abstract double cost();
}
~~~
~~~java
//첨가물을 나타내는 추상 클래스 (데코레이터 클래스)
public abstract class CondimentDecorator extends Beverage {
    public abstract String getDescription();
}
~~~
~~~java
public class Espresso extends Beverage {
    public Espresso() {
        descriptioni = "에스프레소";
    }
    public double cost() {
        return 1.99;
    }
}
public class HouseBlend extends Beverage {
    ..
}
~~~
~~~java
// CondimentDecorator에서 Beverage를 확장
public class Mocha extends CondimentDecorator {
    Beverage beverage;      // 감싸주는 클래스. 같은 Beverage를 상속받았기 때문에 감싸주기 가능.
    
    public Mocha(Beverage beverage) {
        this.beverage = beverage;
    }
    // 감싸주는 클래스를 호출하여 사용 가능..
    public String getDescription() {
        return beverage.getDescription() + ", 모카";
    }
    public double cost() {
        return .20 + beverage.cost();
    }
}
~~~
~~~java
// 테스트 코드
public class StarbuzzCoffee {
    public static void main(String[] args) {
        Beverage beverage = new Espresso();
        System.out.println(beverage.getDescription() +" $" + beverage.cost());

        Beverage beverage2 = new DarkRoast();
        beverage2 = new Mocha(beverage2);
        beverage2 = new Mocha(beverage2);
        beverage2 = new Whip(beverage2);
        System.out.println(beverage2.getDescription() +" $" + beverage2.cost());

        ..
    }
}
~~~

<br>

### 대표적인 사례

java.io?

<br>

### 핵심 정리

- 

<br>


Reference
- Head First Design Patterns
